var Jt=Object.create;var je=Object.defineProperty;var Gt=Object.getOwnPropertyDescriptor;var Xt=Object.getOwnPropertyNames;var Zt=Object.getPrototypeOf,Wt=Object.prototype.hasOwnProperty;var Yt=n=>je(n,"__esModule",{value:!0});var O=(n,i)=>()=>(i||n((i={exports:{}}).exports,i),i.exports);var kt=(n,i,l)=>{if(i&&typeof i=="object"||typeof i=="function")for(let c of Xt(i))!Wt.call(n,c)&&c!=="default"&&je(n,c,{get:()=>i[c],enumerable:!(l=Gt(i,c))||l.enumerable});return n},vt=n=>kt(Yt(je(n!=null?Jt(Zt(n)):{},"default",n&&n.__esModule&&"default"in n?{get:()=>n.default,enumerable:!0}:{value:n,enumerable:!0})),n);var X=O((Tr,Ge)=>{"use strict";function ee(n,i,l,c,b,h){return{tag:n,key:i,attrs:l,children:c,text:b,dom:h,domSize:void 0,state:void 0,events:void 0,instance:void 0}}ee.normalize=function(n){return Array.isArray(n)?ee("[",void 0,void 0,ee.normalizeChildren(n),void 0,void 0):n==null||typeof n=="boolean"?null:typeof n=="object"?n:ee("#",void 0,void 0,String(n),void 0,void 0)};ee.normalizeChildren=function(n){var i=[];if(n.length){for(var l=n[0]!=null&&n[0].key!=null,c=1;c<n.length;c++)if((n[c]!=null&&n[c].key!=null)!==l)throw new TypeError("Vnodes must either always have keys or never have keys!");for(var c=0;c<n.length;c++)i[c]=ee.normalize(n[c])}return i};Ge.exports=ee});var Oe=O((jr,Xe)=>{"use strict";var er=X();Xe.exports=function(){var n=arguments[this],i=this+1,l;if(n==null?n={}:(typeof n!="object"||n.tag!=null||Array.isArray(n))&&(n={},i=this),arguments.length===i+1)l=arguments[i],Array.isArray(l)||(l=[l]);else for(l=[];i<arguments.length;)l.push(arguments[i++]);return er("",n.key,n,l)}});var Re=O((Or,ke)=>{"use strict";var Ze=X(),tr=Oe(),rr=/(?:(^|#|\.)([^#\.\[\]]+))|(\[(.+?)(?:\s*=\s*("|'|)((?:\\["'\]]|.)*?)\5)?\])/g,We={},re={}.hasOwnProperty;function Ye(n){for(var i in n)if(re.call(n,i))return!1;return!0}function nr(n){for(var i,l="div",c=[],b={};i=rr.exec(n);){var h=i[1],o=i[2];if(h===""&&o!=="")l=o;else if(h==="#")b.id=o;else if(h===".")c.push(o);else if(i[3][0]==="["){var s=i[6];s&&(s=s.replace(/\\(["'])/g,"$1").replace(/\\\\/g,"\\")),i[4]==="class"?c.push(s):b[i[4]]=s===""?s:s||!0}}return c.length>0&&(b.className=c.join(" ")),We[n]={tag:l,attrs:b}}function ir(n,i){var l=i.attrs,c=Ze.normalizeChildren(i.children),b=re.call(l,"class"),h=b?l.class:l.className;if(i.tag=n.tag,i.attrs=null,i.children=void 0,!Ye(n.attrs)&&!Ye(l)){var o={};for(var s in l)re.call(l,s)&&(o[s]=l[s]);l=o}for(var s in n.attrs)re.call(n.attrs,s)&&s!=="className"&&!re.call(l,s)&&(l[s]=n.attrs[s]);(h!=null||n.attrs.className!=null)&&(l.className=h!=null?n.attrs.className!=null?String(n.attrs.className)+" "+String(h):h:n.attrs.className!=null?n.attrs.className:null),b&&(l.class=null);for(var s in l)if(re.call(l,s)&&s!=="key"){i.attrs=l;break}return Array.isArray(c)&&c.length===1&&c[0]!=null&&c[0].tag==="#"?i.text=c[0].children:i.children=c,i}function ar(n){if(n==null||typeof n!="string"&&typeof n!="function"&&typeof n.view!="function")throw Error("The selector must be either a string or a component.");var i=tr.apply(1,arguments);return typeof n=="string"&&(i.children=Ze.normalizeChildren(i.children),n!=="[")?ir(We[n]||nr(n),i):(i.tag=n,i)}ke.exports=ar});var et=O((Rr,ve)=>{"use strict";var fr=X();ve.exports=function(n){return n==null&&(n=""),fr("<",void 0,void 0,n,void 0,void 0)}});var rt=O((Lr,tt)=>{"use strict";var lr=X(),ur=Oe();tt.exports=function(){var n=ur.apply(0,arguments);return n.tag="[",n.children=lr.normalizeChildren(n.children),n}});var it=O((Ir,nt)=>{"use strict";var Le=Re();Le.trust=et();Le.fragment=rt();nt.exports=Le});var Ie=O((Mr,at)=>{"use strict";var H=function(n){if(!(this instanceof H))throw new Error("Promise must be called with `new`");if(typeof n!="function")throw new TypeError("executor must be a function");var i=this,l=[],c=[],b=u(l,!0),h=u(c,!1),o=i._instance={resolvers:l,rejectors:c},s=typeof setImmediate=="function"?setImmediate:setTimeout;function u(g,w){return function C(m){var q;try{if(w&&m!=null&&(typeof m=="object"||typeof m=="function")&&typeof(q=m.then)=="function"){if(m===i)throw new TypeError("Promise can't be resolved w/ itself");y(q.bind(m))}else s(function(){!w&&g.length===0&&console.error("Possible unhandled promise rejection:",m);for(var d=0;d<g.length;d++)g[d](m);l.length=0,c.length=0,o.state=w,o.retry=function(){C(m)}})}catch(d){h(d)}}}function y(g){var w=0;function C(q){return function(d){w++>0||q(d)}}var m=C(h);try{g(C(b),m)}catch(q){m(q)}}y(n)};H.prototype.then=function(n,i){var l=this,c=l._instance;function b(u,y,g,w){y.push(function(C){if(typeof u!="function")g(C);else try{h(u(C))}catch(m){o&&o(m)}}),typeof c.retry=="function"&&w===c.state&&c.retry()}var h,o,s=new H(function(u,y){h=u,o=y});return b(n,c.resolvers,h,!0),b(i,c.rejectors,o,!1),s};H.prototype.catch=function(n){return this.then(null,n)};H.prototype.finally=function(n){return this.then(function(i){return H.resolve(n()).then(function(){return i})},function(i){return H.resolve(n()).then(function(){return H.reject(i)})})};H.resolve=function(n){return n instanceof H?n:new H(function(i){i(n)})};H.reject=function(n){return new H(function(i,l){l(n)})};H.all=function(n){return new H(function(i,l){var c=n.length,b=0,h=[];if(n.length===0)i([]);else for(var o=0;o<n.length;o++)(function(s){function u(y){b++,h[s]=y,b===c&&i(h)}n[s]!=null&&(typeof n[s]=="object"||typeof n[s]=="function")&&typeof n[s].then=="function"?n[s].then(u,l):u(n[s])})(o)})};H.race=function(n){return new H(function(i,l){for(var c=0;c<n.length;c++)n[c].then(i,l)})};at.exports=H});var Me=O((_r,oe)=>{"use strict";var fe=Ie();typeof window!="undefined"?(typeof window.Promise=="undefined"?window.Promise=fe:window.Promise.prototype.finally||(window.Promise.prototype.finally=fe.prototype.finally),oe.exports=window.Promise):typeof global!="undefined"?(typeof global.Promise=="undefined"?global.Promise=fe:global.Promise.prototype.finally||(global.Promise.prototype.finally=fe.prototype.finally),oe.exports=global.Promise):oe.exports=fe});var lt=O((Dr,ft)=>{"use strict";var ne=X();ft.exports=function(n){var i=n&&n.document,l,c={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"};function b(t){return t.attrs&&t.attrs.xmlns||c[t.tag]}function h(t,e){if(t.state!==e)throw new Error("`vnode.state` must not be modified")}function o(t){var e=t.state;try{return this.apply(e,arguments)}finally{h(t,e)}}function s(){try{return i.activeElement}catch(t){return null}}function u(t,e,r,a,f,p,E){for(var N=r;N<a;N++){var x=e[N];x!=null&&y(t,x,f,E,p)}}function y(t,e,r,a,f){var p=e.tag;if(typeof p=="string")switch(e.state={},e.attrs!=null&&qe(e.attrs,e,r),p){case"#":g(t,e,f);break;case"<":C(t,e,a,f);break;case"[":m(t,e,r,a,f);break;default:q(t,e,r,a,f)}else P(t,e,r,a,f)}function g(t,e,r){e.dom=i.createTextNode(e.children),k(t,e.dom,r)}var w={caption:"table",thead:"table",tbody:"table",tfoot:"table",tr:"tbody",th:"tr",td:"tr",colgroup:"table",col:"colgroup"};function C(t,e,r,a){var f=e.children.match(/^\s*?<(\w+)/im)||[],p=i.createElement(w[f[1]]||"div");r==="http://www.w3.org/2000/svg"?(p.innerHTML='<svg xmlns="http://www.w3.org/2000/svg">'+e.children+"</svg>",p=p.firstChild):p.innerHTML=e.children,e.dom=p.firstChild,e.domSize=p.childNodes.length,e.instance=[];for(var E=i.createDocumentFragment(),N;N=p.firstChild;)e.instance.push(N),E.appendChild(N);k(t,E,a)}function m(t,e,r,a,f){var p=i.createDocumentFragment();if(e.children!=null){var E=e.children;u(p,E,0,E.length,r,null,a)}e.dom=p.firstChild,e.domSize=p.childNodes.length,k(t,p,f)}function q(t,e,r,a,f){var p=e.tag,E=e.attrs,N=E&&E.is;a=b(e)||a;var x=a?N?i.createElementNS(a,p,{is:N}):i.createElementNS(a,p):N?i.createElement(p,{is:N}):i.createElement(p);if(e.dom=x,E!=null&&Ht(e,E,a),k(t,x,f),!v(e)&&(e.text!=null&&(e.text!==""?x.textContent=e.text:e.children=[ne("#",void 0,void 0,e.text,void 0,void 0)]),e.children!=null)){var z=e.children;u(x,z,0,z.length,r,null,a),e.tag==="select"&&E!=null&&Ft(e,E)}}function d(t,e){var r;if(typeof t.tag.view=="function"){if(t.state=Object.create(t.tag),r=t.state.view,r.$$reentrantLock$$!=null)return;r.$$reentrantLock$$=!0}else{if(t.state=void 0,r=t.tag,r.$$reentrantLock$$!=null)return;r.$$reentrantLock$$=!0,t.state=t.tag.prototype!=null&&typeof t.tag.prototype.view=="function"?new t.tag(t):t.tag(t)}if(qe(t.state,t,e),t.attrs!=null&&qe(t.attrs,t,e),t.instance=ne.normalize(o.call(t.state.view,t)),t.instance===t)throw Error("A view cannot return the vnode it received as argument");r.$$reentrantLock$$=null}function P(t,e,r,a,f){d(e,r),e.instance!=null?(y(t,e.instance,r,a,f),e.dom=e.instance.dom,e.domSize=e.dom!=null?e.instance.domSize:0):e.domSize=0}function A(t,e,r,a,f,p){if(!(e===r||e==null&&r==null))if(e==null||e.length===0)u(t,r,0,r.length,a,f,p);else if(r==null||r.length===0)J(t,e,0,e.length);else{var E=e[0]!=null&&e[0].key!=null,N=r[0]!=null&&r[0].key!=null,x=0,z=0;if(!E)for(;z<e.length&&e[z]==null;)z++;if(!N)for(;x<r.length&&r[x]==null;)x++;if(N===null&&E==null)return;if(E!==N)J(t,e,z,e.length),u(t,r,x,r.length,a,f,p);else if(N){for(var S=e.length-1,D=r.length-1,se,$,L,F,j,Ne;S>=z&&D>=x&&(F=e[S],j=r[D],F.key===j.key);)F!==j&&M(t,F,j,a,f,p),j.dom!=null&&(f=j.dom),S--,D--;for(;S>=z&&D>=x&&($=e[z],L=r[x],$.key===L.key);)z++,x++,$!==L&&M(t,$,L,a,B(e,z,f),p);for(;S>=z&&D>=x&&!(x===D||$.key!==j.key||F.key!==L.key);)Ne=B(e,z,f),Q(t,F,Ne),F!==L&&M(t,F,L,a,Ne,p),++x<=--D&&Q(t,$,f),$!==j&&M(t,$,j,a,f,p),j.dom!=null&&(f=j.dom),z++,S--,F=e[S],j=r[D],$=e[z],L=r[x];for(;S>=z&&D>=x&&F.key===j.key;)F!==j&&M(t,F,j,a,f,p),j.dom!=null&&(f=j.dom),S--,D--,F=e[S],j=r[D];if(x>D)J(t,e,z,S+1);else if(z>S)u(t,r,x,D+1,a,f,p);else{var Bt=f,Je=D-x+1,ae=new Array(Je),Pe=0,R=0,Ae=2147483647,ze=0,se,Te;for(R=0;R<Je;R++)ae[R]=-1;for(R=D;R>=x;R--){se==null&&(se=G(e,z,S+1)),j=r[R];var te=se[j.key];te!=null&&(Ae=te<Ae?te:-1,ae[R-x]=te,F=e[te],e[te]=null,F!==j&&M(t,F,j,a,f,p),j.dom!=null&&(f=j.dom),ze++)}if(f=Bt,ze!==S-z+1&&J(t,e,z,S+1),ze===0)u(t,r,x,D+1,a,f,p);else if(Ae===-1)for(Te=Y(ae),Pe=Te.length-1,R=D;R>=x;R--)L=r[R],ae[R-x]===-1?y(t,L,a,p,f):Te[Pe]===R-x?Pe--:Q(t,L,f),L.dom!=null&&(f=r[R].dom);else for(R=D;R>=x;R--)L=r[R],ae[R-x]===-1&&y(t,L,a,p,f),L.dom!=null&&(f=r[R].dom)}}else{var Ee=e.length<r.length?e.length:r.length;for(x=x<z?x:z;x<Ee;x++)$=e[x],L=r[x],!($===L||$==null&&L==null)&&($==null?y(t,L,a,p,B(e,x+1,f)):L==null?ue(t,$):M(t,$,L,a,B(e,x+1,f),p));e.length>Ee&&J(t,e,x,e.length),r.length>Ee&&u(t,r,x,r.length,a,f,p)}}}function M(t,e,r,a,f,p){var E=e.tag,N=r.tag;if(E===N){if(r.state=e.state,r.events=e.events,Qt(r,e))return;if(typeof E=="string")switch(r.attrs!=null&&Ce(r.attrs,r,a),E){case"#":Z(e,r);break;case"<":W(t,e,r,p,f);break;case"[":_(t,e,r,a,f,p);break;default:T(e,r,a,p)}else U(t,e,r,a,f,p)}else ue(t,e),y(t,r,a,p,f)}function Z(t,e){t.children.toString()!==e.children.toString()&&(t.dom.nodeValue=e.children),e.dom=t.dom}function W(t,e,r,a,f){e.children!==r.children?($e(t,e),C(t,r,a,f)):(r.dom=e.dom,r.domSize=e.domSize,r.instance=e.instance)}function _(t,e,r,a,f,p){A(t,e.children,r.children,a,f,p);var E=0,N=r.children;if(r.dom=null,N!=null){for(var x=0;x<N.length;x++){var z=N[x];z!=null&&z.dom!=null&&(r.dom==null&&(r.dom=z.dom),E+=z.domSize||1)}E!==1&&(r.domSize=E)}}function T(t,e,r,a){var f=e.dom=t.dom;a=b(e)||a,e.tag==="textarea"&&(e.attrs==null&&(e.attrs={}),e.text!=null&&(e.attrs.value=e.text,e.text=void 0)),Vt(e,t.attrs,e.attrs,a),v(e)||(t.text!=null&&e.text!=null&&e.text!==""?t.text.toString()!==e.text.toString()&&(t.dom.firstChild.nodeValue=e.text):(t.text!=null&&(t.children=[ne("#",void 0,void 0,t.text,void 0,t.dom.firstChild)]),e.text!=null&&(e.children=[ne("#",void 0,void 0,e.text,void 0,void 0)]),A(f,t.children,e.children,r,null,a)))}function U(t,e,r,a,f,p){if(r.instance=ne.normalize(o.call(r.state.view,r)),r.instance===r)throw Error("A view cannot return the vnode it received as argument");Ce(r.state,r,a),r.attrs!=null&&Ce(r.attrs,r,a),r.instance!=null?(e.instance==null?y(t,r.instance,a,p,f):M(t,e.instance,r.instance,a,f,p),r.dom=r.instance.dom,r.domSize=r.instance.domSize):e.instance!=null?(ue(t,e.instance),r.dom=void 0,r.domSize=0):(r.dom=e.dom,r.domSize=e.domSize)}function G(t,e,r){for(var a=Object.create(null);e<r;e++){var f=t[e];if(f!=null){var p=f.key;p!=null&&(a[p]=e)}}return a}var K=[];function Y(t){for(var e=[0],r=0,a=0,f=0,p=K.length=t.length,f=0;f<p;f++)K[f]=t[f];for(var f=0;f<p;++f)if(t[f]!==-1){var E=e[e.length-1];if(t[E]<t[f]){K[f]=E,e.push(f);continue}for(r=0,a=e.length-1;r<a;){var N=(r>>>1)+(a>>>1)+(r&a&1);t[e[N]]<t[f]?r=N+1:a=N}t[f]<t[e[r]]&&(r>0&&(K[f]=e[r-1]),e[r]=f)}for(r=e.length,a=e[r-1];r-- >0;)e[r]=a,a=K[a];return K.length=0,e}function B(t,e,r){for(;e<t.length;e++)if(t[e]!=null&&t[e].dom!=null)return t[e].dom;return r}function Q(t,e,r){var a=i.createDocumentFragment();le(t,a,e),k(t,a,r)}function le(t,e,r){for(;r.dom!=null&&r.dom.parentNode===t;){if(typeof r.tag!="string"){if(r=r.instance,r!=null)continue}else if(r.tag==="<")for(var a=0;a<r.instance.length;a++)e.appendChild(r.instance[a]);else if(r.tag!=="[")e.appendChild(r.dom);else if(r.children.length===1){if(r=r.children[0],r!=null)continue}else for(var a=0;a<r.children.length;a++){var f=r.children[a];f!=null&&le(t,e,f)}break}}function k(t,e,r){r!=null?t.insertBefore(e,r):t.appendChild(e)}function v(t){if(t.attrs==null||t.attrs.contenteditable==null&&t.attrs.contentEditable==null)return!1;var e=t.children;if(e!=null&&e.length===1&&e[0].tag==="<"){var r=e[0].children;t.dom.innerHTML!==r&&(t.dom.innerHTML=r)}else if(t.text!=null||e!=null&&e.length!==0)throw new Error("Child node of a contenteditable must be trusted");return!0}function J(t,e,r,a){for(var f=r;f<a;f++){var p=e[f];p!=null&&ue(t,p)}}function ue(t,e){var r=0,a=e.state,f,p;if(typeof e.tag!="string"&&typeof e.state.onbeforeremove=="function"){var E=o.call(e.state.onbeforeremove,e);E!=null&&typeof E.then=="function"&&(r=1,f=E)}if(e.attrs&&typeof e.attrs.onbeforeremove=="function"){var E=o.call(e.attrs.onbeforeremove,e);E!=null&&typeof E.then=="function"&&(r|=2,p=E)}if(h(e,a),!r)ce(e),ge(t,e);else{if(f!=null){var N=function(){r&1&&(r&=2,r||x())};f.then(N,N)}if(p!=null){var N=function(){r&2&&(r&=1,r||x())};p.then(N,N)}}function x(){h(e,a),ce(e),ge(t,e)}}function $e(t,e){for(var r=0;r<e.instance.length;r++)t.removeChild(e.instance[r])}function ge(t,e){for(;e.dom!=null&&e.dom.parentNode===t;){if(typeof e.tag!="string"){if(e=e.instance,e!=null)continue}else if(e.tag==="<")$e(t,e);else{if(e.tag!=="["&&(t.removeChild(e.dom),!Array.isArray(e.children)))break;if(e.children.length===1){if(e=e.children[0],e!=null)continue}else for(var r=0;r<e.children.length;r++){var a=e.children[r];a!=null&&ge(t,a)}}break}}function ce(t){if(typeof t.tag!="string"&&typeof t.state.onremove=="function"&&o.call(t.state.onremove,t),t.attrs&&typeof t.attrs.onremove=="function"&&o.call(t.attrs.onremove,t),typeof t.tag!="string")t.instance!=null&&ce(t.instance);else{var e=t.children;if(Array.isArray(e))for(var r=0;r<e.length;r++){var a=e[r];a!=null&&ce(a)}}}function Ht(t,e,r){for(var a in e)we(t,a,null,e[a],r)}function we(t,e,r,a,f){if(!(e==="key"||e==="is"||a==null||be(e)||r===a&&!St(t,e)&&typeof a!="object")){if(e[0]==="o"&&e[1]==="n")return Be(t,e,a);if(e.slice(0,6)==="xlink:")t.dom.setAttributeNS("http://www.w3.org/1999/xlink",e.slice(6),a);else if(e==="style")Qe(t.dom,r,a);else if(Ke(t,e,f)){if(e==="value"&&((t.tag==="input"||t.tag==="textarea")&&t.dom.value===""+a&&t.dom===s()||t.tag==="select"&&r!==null&&t.dom.value===""+a||t.tag==="option"&&r!==null&&t.dom.value===""+a))return;t.tag==="input"&&e==="type"?t.dom.setAttribute(e,a):t.dom[e]=a}else typeof a=="boolean"?a?t.dom.setAttribute(e,""):t.dom.removeAttribute(e):t.dom.setAttribute(e==="className"?"class":e,a)}}function Ut(t,e,r,a){if(!(e==="key"||e==="is"||r==null||be(e)))if(e[0]==="o"&&e[1]==="n"&&!be(e))Be(t,e,void 0);else if(e==="style")Qe(t.dom,r,null);else if(Ke(t,e,a)&&e!=="className"&&!(e==="value"&&(t.tag==="option"||t.tag==="select"&&t.dom.selectedIndex===-1&&t.dom===s()))&&!(t.tag==="input"&&e==="type"))t.dom[e]=null;else{var f=e.indexOf(":");f!==-1&&(e=e.slice(f+1)),r!==!1&&t.dom.removeAttribute(e==="className"?"class":e)}}function Ft(t,e){if("value"in e)if(e.value===null)t.dom.selectedIndex!==-1&&(t.dom.value=null);else{var r=""+e.value;(t.dom.value!==r||t.dom.selectedIndex===-1)&&(t.dom.value=r)}"selectedIndex"in e&&we(t,"selectedIndex",null,e.selectedIndex,void 0)}function Vt(t,e,r,a){if(r!=null)for(var f in r)we(t,f,e&&e[f],r[f],a);var p;if(e!=null)for(var f in e)(p=e[f])!=null&&(r==null||r[f]==null)&&Ut(t,f,p,a)}function St(t,e){return e==="value"||e==="checked"||e==="selectedIndex"||e==="selected"&&t.dom===s()||t.tag==="option"&&t.dom.parentNode===i.activeElement}function be(t){return t==="oninit"||t==="oncreate"||t==="onupdate"||t==="onremove"||t==="onbeforeremove"||t==="onbeforeupdate"}function Ke(t,e,r){return r===void 0&&(t.tag.indexOf("-")>-1||t.attrs!=null&&t.attrs.is||e!=="href"&&e!=="list"&&e!=="form"&&e!=="width"&&e!=="height")&&e in t.dom}var $t=/[A-Z]/g;function Kt(t){return"-"+t.toLowerCase()}function de(t){return t[0]==="-"&&t[1]==="-"?t:t==="cssFloat"?"float":t.replace($t,Kt)}function Qe(t,e,r){if(e!==r)if(r==null)t.style.cssText="";else if(typeof r!="object")t.style.cssText=r;else if(e==null||typeof e!="object"){t.style.cssText="";for(var a in r){var f=r[a];f!=null&&t.style.setProperty(de(a),String(f))}}else{for(var a in r){var f=r[a];f!=null&&(f=String(f))!==String(e[a])&&t.style.setProperty(de(a),f)}for(var a in e)e[a]!=null&&r[a]==null&&t.style.removeProperty(de(a))}}function xe(){this._=l}xe.prototype=Object.create(null),xe.prototype.handleEvent=function(t){var e=this["on"+t.type],r;typeof e=="function"?r=e.call(t.currentTarget,t):typeof e.handleEvent=="function"&&e.handleEvent(t),this._&&t.redraw!==!1&&(0,this._)(),r===!1&&(t.preventDefault(),t.stopPropagation())};function Be(t,e,r){if(t.events!=null){if(t.events[e]===r)return;r!=null&&(typeof r=="function"||typeof r=="object")?(t.events[e]==null&&t.dom.addEventListener(e.slice(2),t.events,!1),t.events[e]=r):(t.events[e]!=null&&t.dom.removeEventListener(e.slice(2),t.events,!1),t.events[e]=void 0)}else r!=null&&(typeof r=="function"||typeof r=="object")&&(t.events=new xe,t.dom.addEventListener(e.slice(2),t.events,!1),t.events[e]=r)}function qe(t,e,r){typeof t.oninit=="function"&&o.call(t.oninit,e),typeof t.oncreate=="function"&&r.push(o.bind(t.oncreate,e))}function Ce(t,e,r){typeof t.onupdate=="function"&&r.push(o.bind(t.onupdate,e))}function Qt(t,e){do{if(t.attrs!=null&&typeof t.attrs.onbeforeupdate=="function"){var r=o.call(t.attrs.onbeforeupdate,t,e);if(r!==void 0&&!r)break}if(typeof t.tag!="string"&&typeof t.state.onbeforeupdate=="function"){var r=o.call(t.state.onbeforeupdate,t,e);if(r!==void 0&&!r)break}return!1}while(!1);return t.dom=e.dom,t.domSize=e.domSize,t.instance=e.instance,t.attrs=e.attrs,t.children=e.children,t.text=e.text,!0}return function(t,e,r){if(!t)throw new TypeError("Ensure the DOM element being passed to m.route/m.mount/m.render is not undefined.");var a=[],f=s(),p=t.namespaceURI;t.vnodes==null&&(t.textContent=""),e=ne.normalizeChildren(Array.isArray(e)?e:[e]);var E=l;try{l=typeof r=="function"?r:void 0,A(t,t.vnodes,e,a,null,p==="http://www.w3.org/1999/xhtml"?void 0:p)}finally{l=E}t.vnodes=e,f!=null&&s()!==f&&typeof f.focus=="function"&&f.focus();for(var N=0;N<a.length;N++)a[N]()}}});var _e=O((Hr,ut)=>{"use strict";ut.exports=lt()(window)});var ot=O((Ur,st)=>{"use strict";var ct=X();st.exports=function(n,i,l){var c=[],b=!1,h=!1;function o(){if(b)throw new Error("Nested m.redraw.sync() call");b=!0;for(var y=0;y<c.length;y+=2)try{n(c[y],ct(c[y+1]),s)}catch(g){l.error(g)}b=!1}function s(){h||(h=!0,i(function(){h=!1,o()}))}s.sync=o;function u(y,g){if(g!=null&&g.view==null&&typeof g!="function")throw new TypeError("m.mount(element, component) expects a component, not a vnode");var w=c.indexOf(y);w>=0&&(c.splice(w,2),n(y,[],s)),g!=null&&(c.push(y,g),n(y,ct(g),s))}return{mount:u,redraw:s}}});var he=O((Fr,ht)=>{"use strict";var cr=_e();ht.exports=ot()(cr,requestAnimationFrame,console)});var De=O((Vr,pt)=>{"use strict";pt.exports=function(n){if(Object.prototype.toString.call(n)!=="[object Object]")return"";var i=[];for(var l in n)c(l,n[l]);return i.join("&");function c(b,h){if(Array.isArray(h))for(var o=0;o<h.length;o++)c(b+"["+o+"]",h[o]);else if(Object.prototype.toString.call(h)==="[object Object]")for(var o in h)c(b+"["+o+"]",h[o]);else i.push(encodeURIComponent(b)+(h!=null&&h!==""?"="+encodeURIComponent(h):""))}}});var He=O((Sr,mt)=>{"use strict";mt.exports=Object.assign||function(n,i){i&&Object.keys(i).forEach(function(l){n[l]=i[l]})}});var pe=O(($r,yt)=>{"use strict";var sr=De(),or=He();yt.exports=function(n,i){if(/:([^\/\.-]+)(\.{3})?:/.test(n))throw new SyntaxError("Template parameter names *must* be separated");if(i==null)return n;var l=n.indexOf("?"),c=n.indexOf("#"),b=c<0?n.length:c,h=l<0?b:l,o=n.slice(0,h),s={};or(s,i);var u=o.replace(/:([^\/\.-]+)(\.{3})?/g,function(d,P,A){return delete s[P],i[P]==null?d:A?i[P]:encodeURIComponent(String(i[P]))}),y=u.indexOf("?"),g=u.indexOf("#"),w=g<0?u.length:g,C=y<0?w:y,m=u.slice(0,C);l>=0&&(m+=n.slice(l,b)),y>=0&&(m+=(l<0?"?":"&")+u.slice(y,w));var q=sr(s);return q&&(m+=(l<0&&y<0?"?":"&")+q),c>=0&&(m+=n.slice(c)),g>=0&&(m+=(c<0?"":"&")+u.slice(g)),m}});var wt=O((Kr,gt)=>{"use strict";var hr=pe();gt.exports=function(n,i,l){var c=0;function b(s){return new i(s)}b.prototype=i.prototype,b.__proto__=i;function h(s){return function(u,y){typeof u!="string"?(y=u,u=u.url):y==null&&(y={});var g=new i(function(q,d){s(hr(u,y.params),y,function(P){if(typeof y.type=="function")if(Array.isArray(P))for(var A=0;A<P.length;A++)P[A]=new y.type(P[A]);else P=new y.type(P);q(P)},d)});if(y.background===!0)return g;var w=0;function C(){--w==0&&typeof l=="function"&&l()}return m(g);function m(q){var d=q.then;return q.constructor=b,q.then=function(){w++;var P=d.apply(q,arguments);return P.then(C,function(A){if(C(),w===0)throw A}),m(P)},q}}}function o(s,u){for(var y in s.headers)if({}.hasOwnProperty.call(s.headers,y)&&u.test(y))return!0;return!1}return{request:h(function(s,u,y,g){var w=u.method!=null?u.method.toUpperCase():"GET",C=u.body,m=(u.serialize==null||u.serialize===JSON.serialize)&&!(C instanceof n.FormData),q=u.responseType||(typeof u.extract=="function"?"":"json"),d=new n.XMLHttpRequest,P=!1,A=d,M,Z=d.abort;d.abort=function(){P=!0,Z.call(this)},d.open(w,s,u.async!==!1,typeof u.user=="string"?u.user:void 0,typeof u.password=="string"?u.password:void 0),m&&C!=null&&!o(u,/^content-type$/i)&&d.setRequestHeader("Content-Type","application/json; charset=utf-8"),typeof u.deserialize!="function"&&!o(u,/^accept$/i)&&d.setRequestHeader("Accept","application/json, text/*"),u.withCredentials&&(d.withCredentials=u.withCredentials),u.timeout&&(d.timeout=u.timeout),d.responseType=q;for(var W in u.headers)({}).hasOwnProperty.call(u.headers,W)&&d.setRequestHeader(W,u.headers[W]);d.onreadystatechange=function(_){if(!P&&_.target.readyState===4)try{var T=_.target.status>=200&&_.target.status<300||_.target.status===304||/^file:\/\//i.test(s),U=_.target.response,G;if(q==="json"?!_.target.responseType&&typeof u.extract!="function"&&(U=JSON.parse(_.target.responseText)):(!q||q==="text")&&U==null&&(U=_.target.responseText),typeof u.extract=="function"?(U=u.extract(_.target,u),T=!0):typeof u.deserialize=="function"&&(U=u.deserialize(U)),T)y(U);else{try{G=_.target.responseText}catch(Y){G=U}var K=new Error(G);K.code=_.target.status,K.response=U,g(K)}}catch(Y){g(Y)}},typeof u.config=="function"&&(d=u.config(d,u,s)||d,d!==A&&(M=d.abort,d.abort=function(){P=!0,M.call(this)})),C==null?d.send():typeof u.serialize=="function"?d.send(u.serialize(C)):C instanceof n.FormData?d.send(C):d.send(JSON.stringify(C))}),jsonp:h(function(s,u,y,g){var w=u.callbackName||"_mithril_"+Math.round(Math.random()*1e16)+"_"+c++,C=n.document.createElement("script");n[w]=function(m){delete n[w],C.parentNode.removeChild(C),y(m)},C.onerror=function(){delete n[w],C.parentNode.removeChild(C),g(new Error("JSONP request failed"))},C.src=s+(s.indexOf("?")<0?"?":"&")+encodeURIComponent(u.callbackKey||"callback")+"="+encodeURIComponent(w),n.document.documentElement.appendChild(C)})}}});var dt=O((Qr,bt)=>{"use strict";var pr=Me(),mr=he();bt.exports=wt()(window,pr,mr.redraw)});var Ue=O((Br,xt)=>{"use strict";xt.exports=function(n){if(n===""||n==null)return{};n.charAt(0)==="?"&&(n=n.slice(1));for(var i=n.split("&"),l={},c={},b=0;b<i.length;b++){var h=i[b].split("="),o=decodeURIComponent(h[0]),s=h.length===2?decodeURIComponent(h[1]):"";s==="true"?s=!0:s==="false"&&(s=!1);var u=o.split(/\]\[?|\[/),y=c;o.indexOf("[")>-1&&u.pop();for(var g=0;g<u.length;g++){var w=u[g],C=u[g+1],m=C==""||!isNaN(parseInt(C,10));if(w===""){var o=u.slice(0,g).join();l[o]==null&&(l[o]=Array.isArray(y)?y.length:0),w=l[o]++}else if(w==="__proto__")break;if(g===u.length-1)y[w]=s;else{var q=Object.getOwnPropertyDescriptor(y,w);q!=null&&(q=q.value),q==null&&(y[w]=q=m?[]:{}),y=q}}}return c}});var me=O((Jr,qt)=>{"use strict";var yr=Ue();qt.exports=function(n){var i=n.indexOf("?"),l=n.indexOf("#"),c=l<0?n.length:l,b=i<0?c:i,h=n.slice(0,b).replace(/\/{2,}/g,"/");return h?(h[0]!=="/"&&(h="/"+h),h.length>1&&h[h.length-1]==="/"&&(h=h.slice(0,-1))):h="/",{path:h,params:i<0?{}:yr(n.slice(i+1,c))}}});var Et=O((Gr,Ct)=>{"use strict";var gr=me();Ct.exports=function(n){var i=gr(n),l=Object.keys(i.params),c=[],b=new RegExp("^"+i.path.replace(/:([^\/.-]+)(\.{3}|\.(?!\.)|-)?|[\\^$*+.()|\[\]{}]/g,function(h,o,s){return o==null?"\\"+h:(c.push({k:o,r:s==="..."}),s==="..."?"(.*)":s==="."?"([^/]+)\\.":"([^/]+)"+(s||""))})+"$");return function(h){for(var o=0;o<l.length;o++)if(i.params[l[o]]!==h.params[l[o]])return!1;if(!c.length)return b.test(h.path);var s=b.exec(h.path);if(s==null)return!1;for(var o=0;o<c.length;o++)h.params[c[o].k]=c[o].r?s[o+1]:decodeURIComponent(s[o+1]);return!0}}});var zt=O((Xr,At)=>{"use strict";var wr=X(),br=Re(),dr=Me(),xr=pe(),Nt=me(),qr=Et(),Pt=He(),Fe={};At.exports=function(n,i){var l;function c(w,C,m){if(w=xr(w,C),l!=null){l();var q=m?m.state:null,d=m?m.title:null;m&&m.replace?n.history.replaceState(q,d,g.prefix+w):n.history.pushState(q,d,g.prefix+w)}else n.location.href=g.prefix+w}var b=Fe,h,o,s,u,y=g.SKIP={};function g(w,C,m){if(w==null)throw new Error("Ensure the DOM element that was passed to `m.route` is not undefined");var q=0,d=Object.keys(m).map(function(T){if(T[0]!=="/")throw new SyntaxError("Routes must start with a `/`");if(/:([^\/\.-]+)(\.{3})?:/.test(T))throw new SyntaxError("Route parameter names must be separated with either `/`, `.`, or `-`");return{route:T,component:m[T],check:qr(T)}}),P=typeof setImmediate=="function"?setImmediate:setTimeout,A=dr.resolve(),M=!1,Z;if(l=null,C!=null){var W=Nt(C);if(!d.some(function(T){return T.check(W)}))throw new ReferenceError("Default route doesn't match any known routes")}function _(){M=!1;var T=n.location.hash;g.prefix[0]!=="#"&&(T=n.location.search+T,g.prefix[0]!=="?"&&(T=n.location.pathname+T,T[0]!=="/"&&(T="/"+T)));var U=T.concat().replace(/(?:%[a-f89][a-f0-9])+/gim,decodeURIComponent).slice(g.prefix.length),G=Nt(U);Pt(G.params,n.history.state);function K(){if(U===C)throw new Error("Could not resolve default route "+C);c(C,null,{replace:!0})}Y(0);function Y(B){for(;B<d.length;B++)if(d[B].check(G)){var Q=d[B].component,le=d[B].route,k=Q,v=u=function(J){if(v===u){if(J===y)return Y(B+1);h=J!=null&&(typeof J.view=="function"||typeof J=="function")?J:"div",o=G.params,s=U,u=null,b=Q.render?Q:null,q===2?i.redraw():(q=2,i.redraw.sync())}};Q.view||typeof Q=="function"?(Q={},v(k)):Q.onmatch?A.then(function(){return Q.onmatch(G.params,U,le)}).then(v,K):v("div");return}K()}}return l=function(){M||(M=!0,P(_))},typeof n.history.pushState=="function"?(Z=function(){n.removeEventListener("popstate",l,!1)},n.addEventListener("popstate",l,!1)):g.prefix[0]==="#"&&(l=null,Z=function(){n.removeEventListener("hashchange",_,!1)},n.addEventListener("hashchange",_,!1)),i.mount(w,{onbeforeupdate:function(){return q=q?2:1,!(!q||Fe===b)},oncreate:_,onremove:Z,view:function(){if(!(!q||Fe===b)){var T=[wr(h,o.key,o)];return b&&(T=b.render(T[0])),T}}})}return g.set=function(w,C,m){u!=null&&(m=m||{},m.replace=!0),u=null,c(w,C,m)},g.get=function(){return s},g.prefix="#!",g.Link={view:function(w){var C=w.attrs.options,m={},q,d;Pt(m,w.attrs),m.selector=m.options=m.key=m.oninit=m.oncreate=m.onbeforeupdate=m.onupdate=m.onbeforeremove=m.onremove=null;var P=br(w.attrs.selector||"a",m,w.children);return(P.attrs.disabled=Boolean(P.attrs.disabled))?(P.attrs.href=null,P.attrs["aria-disabled"]="true",P.attrs.onclick=null):(q=P.attrs.onclick,d=P.attrs.href,P.attrs.href=g.prefix+d,P.attrs.onclick=function(A){var M;typeof q=="function"?M=q.call(A.currentTarget,A):q==null||typeof q!="object"||typeof q.handleEvent=="function"&&q.handleEvent(A),M!==!1&&!A.defaultPrevented&&(A.button===0||A.which===0||A.which===1)&&(!A.currentTarget.target||A.currentTarget.target==="_self")&&!A.ctrlKey&&!A.metaKey&&!A.shiftKey&&!A.altKey&&(A.preventDefault(),A.redraw=!1,g.set(d,null,C))}),P}},g.param=function(w){return o&&w!=null?o[w]:o},g}});var jt=O((Zr,Tt)=>{"use strict";var Cr=he();Tt.exports=zt()(window,Cr)});var It=O((Wr,Lt)=>{"use strict";var ye=it(),Ot=dt(),Rt=he(),V=function(){return ye.apply(this,arguments)};V.m=ye;V.trust=ye.trust;V.fragment=ye.fragment;V.mount=Rt.mount;V.route=jt();V.render=_e();V.redraw=Rt.redraw;V.request=Ot.request;V.jsonp=Ot.jsonp;V.parseQueryString=Ue();V.buildQueryString=De();V.parsePathname=me();V.buildPathname=pe();V.vnode=X();V.PromisePolyfill=Ie();Lt.exports=V});var I=vt(It()),Mt=["pretty","large","big","small","tall","short","long","handsome","plain","quaint","clean","elegant","easy","angry","crazy","helpful","mushy","odd","unsightly","adorable","important","inexpensive","cheap","expensive","fancy"],_t=["red","yellow","blue","green","pink","brown","purple","brown","white","black","orange"],Dt=["table","chair","house","bbq","desk","car","pony","cookie","sandwich","burger","pizza","mouse","keyboard"],Ve=n=>Math.round(Math.random()*1e3)%n,Se=(n=1e3,i)=>{let l=[];for(let c=0;c<n;c++)l.push({id:i.id++,label:Mt[Ve(Mt.length)]+" "+_t[Ve(_t.length)]+" "+Dt[Ve(Dt.length)]});return l},Er=()=>({data:[],selected:void 0,id:1}),Nr=n=>({select:i=>{n.selected=i},run:()=>{n.data=Se(1e3,n),n.selected=void 0},runLots:()=>{n.data=Se(1e4,n),n.selected=void 0},add:()=>{n.data=n.data.concat(Se(1e3,n))},update:()=>{for(let i=0;i<n.data.length;i+=10)n.data[i].label+=" !!!"},remove:i=>{n.data=n.data.filter(l=>l.id!==i)},clear:()=>{n.data=[],n.selected=void 0},swapRows:()=>{if(n.data.length>998){let i=n.data[1];n.data[1]=n.data[998],n.data[998]=i}}}),ie=(n,i,l)=>(0,I.default)("div.col-sm-6.smallpad",(0,I.default)("button.btn.btn-primary.btn-block",{type:"button",id:i,onclick:n},l)),Pr=n=>(0,I.default)("div.col-md-6",ie(n.run,"run","Create 1,000 rows"),ie(n.runLots,"runlots","Create 10,000 rows"),ie(n.add,"add","Append 1,000 rows"),ie(n.update,"update","Update every 10th row"),ie(n.clear,"clear","Clear"),ie(n.swapRows,"swaprows","Swap Rows")),Ar=(n,i,l)=>(0,I.default)("tr",{key:n.id,class:n.id===i.selected?"danger":""},(0,I.default)("td.col-md-1",n.id),(0,I.default)("td.col-md-4",(0,I.default)("a",{onclick:()=>l.select(n.id)},n.label)),(0,I.default)("td.col-md-1",(0,I.default)("a",{onclick:()=>l.remove(n.id)},(0,I.default)("span.glyphicon.glyphicon-remove",{"aria-hidden":!0}))),(0,I.default)("td.col-md-6",""));I.default.mount(document.getElementById("main"),()=>{let n=Er(),i=Nr(n);return{view:()=>(0,I.default)("div.container",(0,I.default)("div.jumbotron",(0,I.default)("div.row",(0,I.default)("div.col-md-6",(0,I.default)("h1",'Mithril-optimized-"keyed"')),Pr(i))),(0,I.default)("table.table.table-hover.table-striped.test-data",(0,I.default)("tbody#tbody",n.data.map(l=>Ar(l,n,i)))))}});
